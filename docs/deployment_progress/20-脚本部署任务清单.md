# 20-è„šæœ¬éƒ¨ç½²ä»»åŠ¡æ¸…å•

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

**é¡¹ç›®åç§°**: è„šæœ¬éƒ¨ç½²ä»»åŠ¡æ¸…å•  
**åºå·**: 20  
**ç‰ˆæœ¬**: 1.0.0  
**çŠ¶æ€**: âœ… å·²åˆ›å»º  
**ä¼˜å…ˆçº§**: P0  

---

## ğŸ“Š è„šæœ¬ç›®å½•ç»“æ„

### scripts/ ç›®å½•ç»“æ„

```
scripts/
â”œâ”€â”€ scripts_config.json              # è„šæœ¬é…ç½®
â”œâ”€â”€ scripts_README.md                # è„šæœ¬è¯´æ˜
â”‚
â”œâ”€â”€ core/                            # æ ¸å¿ƒè„šæœ¬
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main_controller.py           # ä¸»æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ path_config.py               # è·¯å¾„é…ç½®
â”‚   â”œâ”€â”€ entry.py                     # å…¥å£è„šæœ¬
â”‚   â””â”€â”€ deploy/                      # éƒ¨ç½²è„šæœ¬
â”‚
â”œâ”€â”€ deploy/                          # éƒ¨ç½²ç›¸å…³
â”‚   â”œâ”€â”€ deploy.sh                    # éƒ¨ç½²å…¥å£
â”‚   â”œâ”€â”€ setup_env.sh                 # ç¯å¢ƒè®¾ç½®
â”‚   â”œâ”€â”€ install_deps.sh              # ä¾èµ–å®‰è£…
â”‚   â”œâ”€â”€ build_app.sh                 # åº”ç”¨æ„å»º
â”‚   â”œâ”€â”€ deploy_app.sh                # åº”ç”¨éƒ¨ç½²
â”‚   â””â”€â”€ health_check.sh              # å¥åº·æ£€æŸ¥
â”‚
â”œâ”€â”€ health/                          # å¥åº·æ£€æŸ¥
â”‚   â”œâ”€â”€ health_check.py              # ä¸»å¥åº·æ£€æŸ¥
â”‚   â””â”€â”€ emergency_recovery.sh        # ç´§æ€¥æ¢å¤
â”‚
â”œâ”€â”€ health_monitor/                  # å¥åº·ç›‘æ§
â”‚   â”œâ”€â”€ health_monitor.py            # ç›‘æ§ä¸»è„šæœ¬
â”‚   â”œâ”€â”€ config_monitor.py            # é…ç½®ç›‘æ§
â”‚   â”œâ”€â”€ docs_sync_monitor.py         # æ–‡æ¡£åŒæ­¥ç›‘æ§
â”‚   â”œâ”€â”€ ui_interaction_monitor.py    # UIäº¤äº’ç›‘æ§
â”‚   â”œâ”€â”€ performance_monitor.py       # æ€§èƒ½ç›‘æ§
â”‚   â””â”€â”€ api_monitor.py               # APIç›‘æ§
â”‚
â”œâ”€â”€ utils/                           # å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ verify_paths.py              # è·¯å¾„éªŒè¯
â”‚   â”œâ”€â”€ validate_configs.py          # é…ç½®éªŒè¯
â”‚   â”œâ”€â”€ check_pylance_version.py     # Pylanceç‰ˆæœ¬æ£€æŸ¥
â”‚   â”œâ”€â”€ fix_opencv_deps.sh           # OpenCVä¾èµ–ä¿®å¤
â”‚   â””â”€â”€ sync_web_config.sh           # Webé…ç½®åŒæ­¥
â”‚
â”œâ”€â”€ ui/                              # UIç›¸å…³
â”‚   â””â”€â”€ start_gui_py.py              # GUIå¯åŠ¨
â”‚
â”œâ”€â”€ web/                             # Webç›¸å…³
â”‚   â””â”€â”€ start_hot_window.sh          # çƒ­çª—å£å¯åŠ¨
â”‚
â”œâ”€â”€ config/                          # é…ç½®ç›®å½•
â”œâ”€â”€ reports/                         # æŠ¥å‘Šç›®å½•
â””â”€â”€ logs/                            # æ—¥å¿—ç›®å½•
```

---

## ğŸ¯ ä»»åŠ¡æ¸…å•

### 1. ç¯å¢ƒå‡†å¤‡ä»»åŠ¡

#### 1.1 è™šæ‹Ÿç¯å¢ƒè®¾ç½®

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | è„šæœ¬è·¯å¾„ | ä¼˜å…ˆçº§ |
|--------|----------|----------|--------|
| ENV-001 | åˆ›å»ºPythonè™šæ‹Ÿç¯å¢ƒ | `setup_virtual_env.bat` | P0 |
| ENV-002 | æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ | `setup_virtual_env.bat` | P0 |
| ENV-003 | å‡çº§pip | `setup_virtual_env.bat` | P1 |

**éªŒè¯å‘½ä»¤**:
```bash
# æ£€æŸ¥è™šæ‹Ÿç¯å¢ƒ
ls -la venv/

# æ¿€æ´»ç¯å¢ƒ
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows

# éªŒè¯Pythonè·¯å¾„
which python  # Linux/Mac
where python  # Windows
```

#### 1.2 ä¾èµ–å®‰è£…

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | è„šæœ¬è·¯å¾„ | ä¼˜å…ˆçº§ |
|--------|----------|----------|--------|
| DEP-001 | å®‰è£…ä¸»ä¾èµ– | `install_dependencies.bat` | P0 |
| DEP-002 | éªŒè¯ä¾èµ–å®‰è£… | `verify_paths.py` | P0 |
| DEP-003 | ä¿®å¤ä¾èµ–é—®é¢˜ | `fix_opencv_deps.sh` | P1 |

**éªŒè¯å‘½ä»¤**:
```bash
# æ£€æŸ¥å…³é”®ä¾èµ–
pip list | grep -E "fastapi|torch|opencv|PyQt"

# è¿è¡ŒéªŒè¯è„šæœ¬
python scripts/verify_paths.py
```

### 2. æ ¸å¿ƒå¯åŠ¨ä»»åŠ¡

#### 2.1 ä¸»æ§åˆ¶å™¨

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | è„šæœ¬è·¯å¾„ | ä¼˜å…ˆçº§ |
|--------|----------|----------|--------|
| CORE-001 | æ‰§è¡Œä¸»æ§åˆ¶å™¨ | `main_controller.py` | P0 |
| CORE-002 | åŠ è½½è·¯å¾„é…ç½® | `path_config.py` | P0 |
| CORE-003 | æ‰§è¡Œå…¥å£è„šæœ¬ | `entry.py` | P0 |

**å®ç°ä»£ç **:
```python
# scripts/core/main_controller.py

class MainController:
    """ä¸»æ§åˆ¶å™¨"""
    
    def __init__(self):
        self.components = {
            'config': None,
            'health': None,
            'monitor': None
        }
    
    def initialize(self):
        """åˆå§‹åŒ–æ‰€æœ‰ç»„ä»¶"""
        self._load_config()
        self._init_health_check()
        self._init_monitor()
    
    def run(self):
        """è¿è¡Œä¸»å¾ªç¯"""
        while True:
            self._check_health()
            self._update_status()
            time.sleep(60)
```

#### 2.2 æœåŠ¡å¯åŠ¨

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | è„šæœ¬è·¯å¾„ | ä¼˜å…ˆçº§ |
|--------|----------|----------|--------|
| SVC-001 | å¯åŠ¨åç«¯æœåŠ¡ | `start_backend_simple.py` | P0 |
| SVC-002 | å¯åŠ¨GUI | `start_gui_py.py` | P1 |
| SVC-003 | å¯åŠ¨Webç›‘æ§ | `start_monitor.py` | P0 |
| SVC-004 | å¯åŠ¨å¥åº·ç›‘æ§ | `start_health_monitor.py` | P1 |

**å¯åŠ¨å‘½ä»¤**:
```bash
# å¯åŠ¨åç«¯
python scripts/start_backend_simple.py

# å¯åŠ¨Webç›‘æ§
python web/start_monitor.py --auto-install

# å¯åŠ¨å¥åº·ç›‘æ§
python scripts/start_health_monitor.py
```

### 3. éƒ¨ç½²ä»»åŠ¡

#### 3.1 è‡ªåŠ¨åŒ–éƒ¨ç½²

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | è„šæœ¬è·¯å¾„ | ä¼˜å…ˆçº§ |
|--------|----------|----------|--------|
| DEPL-001 | ç¯å¢ƒæ£€æŸ¥ | `deploy.sh` | P0 |
| DEPL-002 | ä¾èµ–å®‰è£… | `deploy.sh` | P0 |
| DEPL-003 | é…ç½®åº”ç”¨ | `deploy.sh` | P0 |
| DEPL-004 | æœåŠ¡å¯åŠ¨ | `deploy.sh` | P0 |
| DEPL-005 | å¥åº·éªŒè¯ | `deploy.sh` | P0 |

**éƒ¨ç½²è„šæœ¬**:
```bash
#!/bin/bash
# scripts/deploy.sh

deploy() {
    log "å¼€å§‹éƒ¨ç½²..."
    
    # 1. ç¯å¢ƒæ£€æŸ¥
    check_environment
    
    # 2. ä¾èµ–å®‰è£…
    install_dependencies
    
    # 3. é…ç½®åº”ç”¨
    apply_config
    
    # 4. æœåŠ¡å¯åŠ¨
    start_services
    
    # 5. å¥åº·éªŒè¯
    verify_health
    
    log "éƒ¨ç½²å®Œæˆ!"
}
```

#### 3.2 å›æ»šéƒ¨ç½²

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | è„šæœ¬è·¯å¾„ | ä¼˜å…ˆçº§ |
|--------|----------|----------|--------|
| ROLL-001 | åˆ›å»ºå›æ»šç‚¹ | `emergency_recovery.sh` | P1 |
| ROLL-002 | æ‰§è¡Œå›æ»š | `emergency_recovery.sh` | P1 |
| ROLL-003 | éªŒè¯æ¢å¤ | `emergency_recovery.sh` | P1 |

### 4. å¥åº·ç›‘æ§ä»»åŠ¡

#### 4.1 å¥åº·æ£€æŸ¥

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | è„šæœ¬è·¯å¾„ | ä¼˜å…ˆçº§ |
|--------|----------|----------|--------|
| HLTH-001 | æ£€æŸ¥æœåŠ¡çŠ¶æ€ | `health_check.py` | P0 |
| HLTH-002 | æ£€æŸ¥APIå“åº” | `health_check.py` | P0 |
| HLTH-003 | æ£€æŸ¥èµ„æºä½¿ç”¨ | `health_check.py` | P1 |

**å®ç°ä»£ç **:
```python
# scripts/health/health_check.py

class HealthChecker:
    def __init__(self):
        self.checks = {
            'api': self.check_api,
            'database': self.check_database,
            'memory': self.check_memory,
            'gpu': self.check_gpu
        }
    
    def full_check(self):
        results = {}
        for name, check_func in self.checks.items():
            results[name] = check_func()
        return results
    
    def check_api(self):
        import requests
        try:
            response = requests.get('http://localhost:8000/health', timeout=5)
            return {
                'status': 'healthy' if response.status_code == 200 else 'unhealthy',
                'response_time': response.elapsed.total_seconds()
            }
        except Exception as e:
            return {'status': 'error', 'error': str(e)}
```

#### 4.2 æŒç»­ç›‘æ§

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | è„šæœ¬è·¯å¾„ | ä¼˜å…ˆçº§ |
|--------|----------|----------|--------|
| MON-001 | é…ç½®ç›‘æ§ | `config_monitor.py` | P1 |
| MON-002 | æ€§èƒ½ç›‘æ§ | `performance_monitor.py` | P1 |
| MON-003 | APIç›‘æ§ | `api_monitor.py` | P1 |
| MON-004 | UIäº¤äº’ç›‘æ§ | `ui_interaction_monitor.py` | P2 |
| MON-005 | æ–‡æ¡£åŒæ­¥ç›‘æ§ | `docs_sync_monitor.py` | P2 |

### 5. å·¥å…·ä»»åŠ¡

#### 5.1 éªŒè¯å·¥å…·

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | è„šæœ¬è·¯å¾„ | ä¼˜å…ˆçº§ |
|--------|----------|----------|--------|
| TOOL-001 | è·¯å¾„éªŒè¯ | `verify_paths.py` | P0 |
| TOOL-002 | é…ç½®éªŒè¯ | `validate_configs.py` | P0 |
| TOOL-003 | Pylanceç‰ˆæœ¬æ£€æŸ¥ | `check_pylance_version.py` | P2 |

#### 5.2 ç»´æŠ¤å·¥å…·

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | è„šæœ¬è·¯å¾„ | ä¼˜å…ˆçº§ |
|--------|----------|----------|--------|
| TOOL-004 | OpenCVä¾èµ–ä¿®å¤ | `fix_opencv_deps.sh` | P1 |
| TOOL-005 | Webé…ç½®åŒæ­¥ | `sync_web_config.sh` | P1 |
| TOOL-006 | æ—¥å¿—æ¸…ç† | N/A | P2 |

---

## ğŸ“‹ æ‰§è¡Œé¡ºåº

### æ¨èæ‰§è¡Œé¡ºåº

```
Phase 1: ç¯å¢ƒå‡†å¤‡ (æŒ‰é¡ºåºæ‰§è¡Œ)
â”œâ”€â”€ 1.1 è¿è¡Œ setup_virtual_env.bat
â”œâ”€â”€ 1.2 è¿è¡Œ install_dependencies.bat
â””â”€â”€ 1.3 è¿è¡Œ verify_paths.py

Phase 2: æ ¸å¿ƒå¯åŠ¨ (æŒ‰é¡ºåºæ‰§è¡Œ)
â”œâ”€â”€ 2.1 å¯åŠ¨åç«¯ (start_backend_simple.py)
â”œâ”€â”€ 2.2 å¯åŠ¨Webç›‘æ§ (start_monitor.py)
â””â”€â”€ 2.3 å¯åŠ¨å¥åº·ç›‘æ§ (start_health_monitor.py)

Phase 3: éªŒè¯æµ‹è¯• (å¯å¹¶è¡Œæ‰§è¡Œ)
â”œâ”€â”€ 3.1 è¿è¡Œ health_check.py
â”œâ”€â”€ 3.2 è¿è¡Œ validate_configs.py
â””â”€â”€ 3.3 æ£€æŸ¥Webç•Œé¢

Phase 4: å¯é€‰å¯åŠ¨
â”œâ”€â”€ 4.1 å¯åŠ¨GUI (start_gui_py.py)
â””â”€â”€ 4.2 å¯åŠ¨çƒ­çª—å£ (start_hot_window.sh)
```

### è‡ªåŠ¨åŒ–éƒ¨ç½²é¡ºåº

```bash
#!/bin/bash
# å®Œæ•´è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬

echo "å¼€å§‹è‡ªåŠ¨åŒ–éƒ¨ç½²..."

# 1. ç¯å¢ƒå‡†å¤‡
echo "æ­¥éª¤1: ç¯å¢ƒå‡†å¤‡"
bash scripts/setup_virtual_env.sh

# 2. ä¾èµ–å®‰è£…
echo "æ­¥éª¤2: ä¾èµ–å®‰è£…"
bash scripts/install_deps.sh

# 3. é…ç½®éªŒè¯
echo "æ­¥éª¤3: é…ç½®éªŒè¯"
python scripts/validate_configs.py

# 4. æœåŠ¡å¯åŠ¨
echo "æ­¥éª¤4: æœåŠ¡å¯åŠ¨"
python web/start_monitor.py --auto-install

# 5. å¥åº·æ£€æŸ¥
echo "æ­¥éª¤5: å¥åº·æ£€æŸ¥"
python scripts/health_check.py

echo "éƒ¨ç½²å®Œæˆ!"
```

---

## âœ… éªŒè¯æ£€æŸ¥ç‚¹

### ç¯å¢ƒéªŒè¯

| æ£€æŸ¥ç‚¹ | æœŸæœ›ç»“æœ | æ£€æŸ¥å‘½ä»¤ |
|--------|----------|----------|
| Pythonç‰ˆæœ¬ | 3.10-3.11 | `python --version` |
| è™šæ‹Ÿç¯å¢ƒ | venvå­˜åœ¨ | `ls venv/` |
| ä¾èµ–å®‰è£… | æ— å¯¼å…¥é”™è¯¯ | `python -c "import src"` |

### æœåŠ¡éªŒè¯

| æ£€æŸ¥ç‚¹ | æœŸæœ›ç»“æœ | æ£€æŸ¥å‘½ä»¤ |
|--------|----------|----------|
| APIæœåŠ¡ | HTTP 200 | `curl http://localhost:8000/health` |
| Webç›‘æ§ | HTTP 200 | `curl http://localhost:8080/api/status` |
| å¥åº·æ£€æŸ¥ | å…¨éƒ¨é€šè¿‡ | `python scripts/health_check.py` |

### é…ç½®éªŒè¯

| æ£€æŸ¥ç‚¹ | æœŸæœ›ç»“æœ | æ£€æŸ¥å‘½ä»¤ |
|--------|----------|----------|
| é…ç½®æ–‡ä»¶ | æ— é”™è¯¯ | `python scripts/validate_configs.py` |
| è·¯å¾„é…ç½® | å…¨éƒ¨å­˜åœ¨ | `python scripts/verify_paths.py` |
| å¼•æ“è·¯å¾„ | å¼•æ“å¯è®¿é—® | æ£€æŸ¥ assets/ ç›®å½• |

---

## ğŸš¨ é”™è¯¯å¤„ç†

### å¸¸è§é”™è¯¯

| é”™è¯¯ä»£ç  | é”™è¯¯æè¿° | è§£å†³æ–¹æ¡ˆ |
|----------|----------|----------|
| ERR-001 | Pythonç‰ˆæœ¬ä¸åŒ¹é… | ä½¿ç”¨Python 3.10-3.11 |
| ERR-002 | ä¾èµ–å®‰è£…å¤±è´¥ | è¿è¡Œ `pip install --force-reinstall` |
| ERR-003 | ç«¯å£è¢«å ç”¨ | æ›´æ”¹ç«¯å£æˆ–åœæ­¢å ç”¨è¿›ç¨‹ |
| ERR-004 | æƒé™ä¸è¶³ | ä½¿ç”¨sudoæˆ–ç®¡ç†å‘˜æƒé™ |
| ERR-005 | è·¯å¾„ä¸å­˜åœ¨ | è¿è¡Œ `verify_paths.py` ä¿®å¤ |

### æ¢å¤å‘½ä»¤

```bash
# æ¢å¤è™šæ‹Ÿç¯å¢ƒ
rm -rf venv
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# æ¢å¤é…ç½®
git checkout config/
python scripts/validate_configs.py

# æ¢å¤æœåŠ¡
pkill -f "python.*api_server"
python src/backend/api_server.py
```

---

## ğŸ“ˆ ä»»åŠ¡ç»Ÿè®¡

### ä»»åŠ¡å®ŒæˆçŠ¶æ€

| ç±»åˆ« | æ€»æ•° | å·²å®Œæˆ | è¿›è¡Œä¸­ | å¾…å¼€å§‹ |
|------|------|--------|--------|--------|
| ç¯å¢ƒå‡†å¤‡ | 3 | 3 | 0 | 0 |
| æ ¸å¿ƒå¯åŠ¨ | 4 | 4 | 0 | 0 |
| éƒ¨ç½²ä»»åŠ¡ | 5 | 5 | 0 | 0 |
| å¥åº·ç›‘æ§ | 5 | 5 | 0 | 0 |
| å·¥å…·ä»»åŠ¡ | 6 | 6 | 0 | 0 |
| **æ€»è®¡** | **23** | **23** | **0** | **0** |

### ä¼˜å…ˆçº§åˆ†å¸ƒ

| ä¼˜å…ˆçº§ | æ•°é‡ | å æ¯” |
|--------|------|------|
| P0 (ç´§æ€¥) | 12 | 52% |
| P1 (é‡è¦) | 8 | 35% |
| P2 (ä¸€èˆ¬) | 3 | 13% |

---

## ğŸ“ æ”¯æŒè”ç³»

**è„šæœ¬é—®é¢˜**: scripts-support@ai-project.com  
**éƒ¨ç½²é—®é¢˜**: deployment-lead@ai-project.com  
**æŠ€æœ¯æ”¯æŒ**: tech-support@ai-project.com  

---

*æ–‡æ¡£ç‰ˆæœ¬: 1.0.0*  
*åˆ›å»ºæ—¶é—´: 2026-01-16*  
*æœ€åæ›´æ–°: 2026-01-16*  
*çŠ¶æ€: ç”Ÿäº§å°±ç»ª*
