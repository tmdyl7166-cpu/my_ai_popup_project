# VSCode 扩展配置说明

## 文件位置
- `.vscode/extensions.json` - VSCode 扩展推荐配置

## 配置分类

### 1. 核心开发工具 (必须安装)
| 扩展 | 用途 |
|------|------|
| `ms-python.python` | Python 语言支持 |
| `ms-python.vscode-pylance` | Python 类型检查与智能提示 |
| `ms-python.debugpy` | Python 调试器 |
| `ms-python.vscode-python-envs` | Python 环境管理 |
| `ms-python.black-formatter` | Black 代码格式化 |
| `ms-python.autopep8` | PEP8 格式化 |
| `ms-python.isort` | Import 排序 |

### 2. 测试工具
| 扩展 | 用途 |
|------|------|
| `ms-python.vscode-python-test-adapter` | 测试适配器 |
| `hbenl.vscode-test-explorer` | 测试资源管理器 |
| `littlefoxteam.vscode-python-test-adapter` | pytest 支持 |

### 3. AI 辅助编程
| 扩展 | 用途 |
|------|------|
| `github.copilot` | GitHub Copilot 代码生成 |
| `github.copilot-chat` | Copilot 对话式编程 |
| `blackboxapp.blackbox` | Blackbox AI 代码补全 |
| `visualstudioexptteam.vscodeintellicode` | IntelliCode 智能提示 |

### 4. 容器与云原生 (部署相关)
| 扩展 | 用途 |
|------|------|
| `ms-azuretools.vscode-docker` | Docker 容器管理 |
| `ms-azuretools.vscode-containers` | 容器工具 |
| `ms-kubernetes-tools.vscode-kubernetes-tools` | Kubernetes 集群管理 |
| `ms-vscode-remote.remote-containers` | 远程容器开发 |

### 5. 数据库工具
| 扩展 | 用途 |
|------|------|
| `mtxr.sqltools` | 数据库 GUI 管理工具 |

### 6. API 测试
| 扩展 | 用途 |
|------|------|
| `humao.rest-client` | REST API 测试 |
| `rangav.vscode-thunder-client` | API 调试工具 |

## 使用方法

### 1. 安装所有推荐扩展
打开项目后，VSCode 会自动提示安装推荐的扩展。

### 2. 手动安装特定扩展
在 VSCode 中按 `Ctrl+Shift+X` 打开扩展面板，搜索扩展 ID 安装。

### 3. Dev Container 快速启动
```bash
# 使用 Dev Container 打开项目
# 1. 安装 "ms-vscode-remote.remote-containers" 扩展
# 2. 按 F1，输入 "Remote-Containers: Reopen in Container"
```

## 与 Dev Container 集成

### `.devcontainer/devcontainer.json` 已配置
```json
{
    "name": "Python & Typescript",
    "image": "ghcr.io/prulloac/base:ubuntu-22.04",
    "features": {
        "ghcr.io/devcontainers/features/docker-in-docker": {},
        "ghcr.io/devcontainers/features/node": {},
        "ghcr.io/devcontainers/features/python": {},
        "ghcr.io/devcontainers/features/java": {}
    }
}
```

### 功能特性
- ✅ Docker-in-Docker 支持
- ✅ Node.js 环境
- ✅ Python 环境 (支持 Poetry)
- ✅ Java 环境
- ✅ JSON Server

## 推荐的 VSCode 设置

### `.vscode/settings.json` (可选创建)
```json
{
    "python.defaultInterpreterPath": "${workspaceFolder}/ai_popup_env/bin/python",
    "python.analysis.typeCheckingMode": "basic",
    "python.formatting.provider": "black",
    "python.sortImports.args": ["--profile", "black"],
    "editor.formatOnSave": true,
    "editor.codeActionsOnSave": {
        "source.organizeImports": "explicit"
    },
    "files.exclude": {
        "**/__pycache__": true,
        "**/*.pyc": true,
        "**/.pytest_cache": true,
        "**/node_modules": true
    }
}
```

## 扩展与项目功能对应

| 项目功能 | 依赖扩展 |
|----------|----------|
| Python 后端开发 | `ms-python.python`, `ms-python.vscode-pylance` |
| Docker 部署 | `ms-azuretools.vscode-docker` |
| K8s 集群管理 | `ms-kubernetes-tools.vscode-kubernetes-tools` |
| API 测试 | `humao.rest-client` |
| 前端开发 | `esbenp.prettier-vscode`, `dbaeumer.vscode-eslint` |
| 文档编写 | `davidanson.vscode-markdownlint` |
| Git 版本控制 | `eamodio.gitlens` |

## 快速启动命令

```bash
# 1. 克隆项目
git clone <repo_url>
cd my_ai_popup_project

# 2. 打开 VSCode
code .

# 3. 安装推荐扩展 (自动提示)

# 4. 使用 Dev Container (可选)
# F1 → Remote-Containers: Reopen in Container

# 5. 启动开发服务
./start.sh
```

## 故障排除

### 扩展无法安装
- 检查网络连接
- 尝试使用代理: `Settings → Application → Proxy`

### Python 扩展不工作
- 检查 Python 路径: `Ctrl+Shift+P → Python: Select Interpreter`
- 确保虚拟环境已激活

### Docker 扩展不工作
- 确保 Docker 守护进程正在运行
- 检查用户权限: `sudo usermod -aG docker $USER`

