{
    "meta": {
        "name": "AIå¼¹çª—é¡¹ç›®APIæ˜ å°„é…ç½®",
        "version": "2.0.0",
        "description": "ç»Ÿä¸€APIæ¥å£æ˜ å°„ï¼Œå°†å‰ç«¯è¯·æ±‚æ˜ å°„åˆ°åç«¯å¤„ç†é€»è¾‘ï¼ŒåŒ…å«åŠŸèƒ½å¡ç‰‡è§„èŒƒå’Œå®æ—¶é€šä¿¡é…ç½®",
        "created": "2026-01-21",
        "updated": "2026-01-21",
        "rulesReference": {
            "L5-execution": "frontendRendering, functionCardSpecification, realtimeCommunication, apiMappingMechanism, bubbleDetection, scriptToApiMapping"
        }
    },
    "functionCardSpecification": {
        "requiredFields": {
            "bubbleDetection": {
                "type": "boolean",
                "required": true,
                "default": true,
                "description": "æ˜¯å¦å¯ç”¨å†’æ³¡äº‹ä»¶æ£€æµ‹"
            },
            "frontendName": {
                "type": "string",
                "required": true,
                "description": "å‰ç«¯æ˜¾ç¤ºçš„åŠŸèƒ½åç§°"
            },
            "description": {
                "type": "string",
                "required": true,
                "description": "ä¸€å¥è¯è‡ªç„¶è¯­è¨€åŠŸèƒ½è¯´æ˜"
            },
            "inputParameters": {
                "type": "object",
                "required": true,
                "dynamic": true,
                "description": "åŠ¨æ€ç”Ÿæˆçš„å‚æ•°è¾“å…¥åŒºåŸŸ"
            },
            "backendEndpoint": {
                "type": "string",
                "required": true,
                "description": "APIç«¯ç‚¹è·¯å¾„"
            },
            "optimization": {
                "type": "string",
                "required": false,
                "description": "åŠŸèƒ½ä¼˜åŒ–å»ºè®®"
            },
            "tags": {
                "type": "array",
                "required": true,
                "items": {
                    "type": "string",
                    "enum": [
                        "åŠŸèƒ½å…·ä½“è¯´æ˜",
                        "APIæ¥å£",
                        "è„šæœ¬è¿è¡Œé€»è¾‘",
                        "DAG"
                    ]
                },
                "description": "åŠŸèƒ½åˆ†ç±»æ ‡ç­¾"
            },
            "status": {
                "type": "string",
                "required": true,
                "enum": [
                    "available",
                    "partial",
                    "unavailable"
                ],
                "enumValues": {
                    "available": "ğŸŸ¢ å¯ç”¨",
                    "partial": "ğŸŸ¡ éƒ¨åˆ†å®Œæˆ",
                    "unavailable": "ğŸ”´ æœªéƒ¨ç½²"
                },
                "description": "åŠŸèƒ½éƒ¨ç½²çŠ¶æ€"
            }
        }
    },
    "mappings": {
        "system": {
            "status": {
                "endpoint": "/api/status",
                "method": "GET",
                "handler": "system_monitor.get_status",
                "description": "è·å–ç³»ç»Ÿæ•´ä½“çŠ¶æ€",
                "cardSpec": {
                    "bubbleDetection": true,
                    "frontendName": "ç³»ç»ŸçŠ¶æ€ç›‘æ§",
                    "description": "å®æ—¶æ˜¾ç¤ºCPUã€å†…å­˜ã€ç£ç›˜å’Œç½‘ç»œèµ„æºä½¿ç”¨æƒ…å†µ",
                    "tags": [
                        "åŠŸèƒ½å…·ä½“è¯´æ˜",
                        "APIæ¥å£"
                    ],
                    "status": "available"
                },
                "state": {
                    "cpu_percent": "number",
                    "memory_percent": "number",
                    "disk_percent": "number",
                    "network_io": "object"
                },
                "metrics": {
                    "cpu_usage": "percent",
                    "memory_usage": "percent",
                    "disk_usage": "percent",
                    "network_traffic": "bytes/sec"
                },
                "response_format": {
                    "cpu_percent": "number",
                    "memory_percent": "number",
                    "disk_percent": "number",
                    "services": "object",
                    "last_update": "string"
                }
            },
            "health": {
                "endpoint": "/api/health",
                "method": "GET",
                "handler": "health_monitor.check_health",
                "description": "ç³»ç»Ÿå¥åº·æ£€æŸ¥",
                "cardSpec": {
                    "bubbleDetection": true,
                    "frontendName": "å¥åº·æ£€æŸ¥",
                    "description": "æ£€æŸ¥æ‰€æœ‰æœåŠ¡è¿è¡ŒçŠ¶æ€å’Œä¾èµ–ç»„ä»¶",
                    "tags": [
                        "åŠŸèƒ½å…·ä½“è¯´æ˜",
                        "APIæ¥å£"
                    ],
                    "status": "available",
                    "inputParameters": {
                        "check_type": {
                            "type": "select",
                            "options": [
                                "full",
                                "quick",
                                "custom"
                            ],
                            "default": "full"
                        }
                    }
                },
                "actions": {
                    "run": {
                        "endpoint": "/api/health",
                        "method": "POST"
                    }
                },
                "response_format": {
                    "status": "string",
                    "timestamp": "string",
                    "services": "object",
                    "version": "string"
                }
            },
            "resources": {
                "endpoint": "/api/system/resources",
                "method": "GET",
                "handler": "system_monitor.get_resources",
                "description": "è·å–ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ",
                "cardSpec": {
                    "bubbleDetection": true,
                    "frontendName": "èµ„æºè¯¦æƒ…",
                    "description": "æŸ¥çœ‹è¯¦ç»†çš„ç³»ç»Ÿèµ„æºä½¿ç”¨æŒ‡æ ‡å’Œè¶‹åŠ¿",
                    "tags": [
                        "åŠŸèƒ½å…·ä½“è¯´æ˜",
                        "APIæ¥å£"
                    ],
                    "status": "available"
                },
                "response_format": {
                    "cpu": "object",
                    "memory": "object",
                    "disk": "object",
                    "network": "object"
                }
            }
        },
        "projects": {
            "list": {
                "endpoint": "/api/projects",
                "method": "GET",
                "handler": "project_manager.list_projects",
                "description": "è·å–æ‰€æœ‰é¡¹ç›®åˆ—è¡¨",
                "response_format": {
                    "projects": "array",
                    "total": "number",
                    "timestamp": "string"
                }
            },
            "detail": {
                "endpoint": "/api/projects/{id}",
                "method": "GET",
                "handler": "project_manager.get_project_detail",
                "description": "è·å–é¡¹ç›®è¯¦ç»†ä¿¡æ¯",
                "parameters": {
                    "id": {
                        "type": "string",
                        "required": true,
                        "description": "é¡¹ç›®ID"
                    }
                },
                "response_format": {
                    "id": "string",
                    "name": "string",
                    "status": "string",
                    "type": "string",
                    "version": "string",
                    "description": "string",
                    "metrics": "object",
                    "last_update": "string"
                }
            },
            "action": {
                "endpoint": "/api/projects/{id}/action",
                "method": "POST",
                "handler": "project_manager.execute_action",
                "description": "æ‰§è¡Œé¡¹ç›®æ“ä½œ",
                "parameters": {
                    "id": {
                        "type": "string",
                        "required": true,
                        "description": "é¡¹ç›®ID"
                    },
                    "action": {
                        "type": "string",
                        "required": true,
                        "enum": [
                            "start",
                            "stop",
                            "restart",
                            "reload"
                        ],
                        "description": "æ‰§è¡Œçš„æ“ä½œ"
                    }
                },
                "request_body": {
                    "action": "string",
                    "parameters": "object"
                },
                "response_format": {
                    "success": "boolean",
                    "message": "string",
                    "timestamp": "string"
                }
            },
            "logs": {
                "endpoint": "/api/projects/{id}/logs",
                "method": "GET",
                "handler": "project_manager.get_logs",
                "description": "è·å–é¡¹ç›®æ—¥å¿—",
                "parameters": {
                    "id": {
                        "type": "string",
                        "required": true,
                        "description": "é¡¹ç›®ID"
                    },
                    "lines": {
                        "type": "integer",
                        "default": 100,
                        "description": "è¿”å›çš„æ—¥å¿—è¡Œæ•°"
                    },
                    "level": {
                        "type": "string",
                        "enum": [
                            "DEBUG",
                            "INFO",
                            "WARNING",
                            "ERROR"
                        ],
                        "description": "æ—¥å¿—çº§åˆ«è¿‡æ»¤"
                    }
                },
                "response_format": {
                    "logs": "array",
                    "total_lines": "number",
                    "timestamp": "string"
                }
            },
            "metrics": {
                "endpoint": "/api/projects/{id}/metrics",
                "method": "GET",
                "handler": "project_manager.get_metrics",
                "description": "è·å–é¡¹ç›®æ€§èƒ½æŒ‡æ ‡",
                "parameters": {
                    "id": {
                        "type": "string",
                        "required": true,
                        "description": "é¡¹ç›®ID"
                    },
                    "period": {
                        "type": "string",
                        "default": "1h",
                        "enum": [
                            "5m",
                            "15m",
                            "1h",
                            "6h",
                            "24h"
                        ],
                        "description": "æ—¶é—´å‘¨æœŸ"
                    }
                },
                "response_format": {
                    "metrics": "object",
                    "period": "string",
                    "timestamp": "string"
                }
            }
        },
        "scripts": {
            "list": {
                "endpoint": "/api/scripts",
                "method": "GET",
                "handler": "script_manager.list_scripts",
                "description": "è·å–æ‰€æœ‰è‡ªåŠ¨åŒ–è„šæœ¬åˆ—è¡¨",
                "cardSpec": {
                    "bubbleDetection": true,
                    "frontendName": "è„šæœ¬åˆ—è¡¨",
                    "description": "æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„è‡ªåŠ¨åŒ–è„šæœ¬åŠå…¶çŠ¶æ€",
                    "tags": [
                        "åŠŸèƒ½å…·ä½“è¯´æ˜",
                        "è„šæœ¬è¿è¡Œé€»è¾‘"
                    ],
                    "status": "available"
                },
                "state": {
                    "total": "number",
                    "running": "number",
                    "idle": "number"
                },
                "response_format": {
                    "scripts": "array",
                    "total": "number",
                    "timestamp": "string"
                }
            },
            "run": {
                "endpoint": "/api/scripts/{name}/run",
                "method": "POST",
                "handler": "script_manager.run_script",
                "description": "è¿è¡ŒæŒ‡å®šè„šæœ¬",
                "cardSpec": {
                    "bubbleDetection": true,
                    "frontendName": "è¿è¡Œè„šæœ¬",
                    "description": "æ‰§è¡Œé€‰å®šçš„è‡ªåŠ¨åŒ–è„šæœ¬",
                    "tags": [
                        "åŠŸèƒ½å…·ä½“è¯´æ˜",
                        "è„šæœ¬è¿è¡Œé€»è¾‘",
                        "APIæ¥å£"
                    ],
                    "status": "available",
                    "inputParameters": {
                        "name": {
                            "type": "string",
                            "required": true,
                            "description": "è„šæœ¬åç§°"
                        },
                        "parameters": {
                            "type": "object",
                            "required": false,
                            "description": "è„šæœ¬æ‰§è¡Œå‚æ•°"
                        },
                        "async": {
                            "type": "boolean",
                            "required": false,
                            "default": true,
                            "description": "æ˜¯å¦å¼‚æ­¥æ‰§è¡Œ"
                        }
                    },
                    "optimization": "å»ºè®®ä½¿ç”¨å¼‚æ­¥æ‰§è¡Œï¼Œé¿å…é˜»å¡é¡µé¢å“åº”"
                },
                "actions": {
                    "start": {
                        "endpoint": "/api/scripts/{name}/run",
                        "method": "POST"
                    }
                },
                "response_format": {
                    "job_id": "string",
                    "status": "string",
                    "message": "string",
                    "timestamp": "string"
                }
            },
            "status": {
                "endpoint": "/api/scripts/{name}/status",
                "method": "GET",
                "handler": "script_manager.get_script_status",
                "description": "è·å–è„šæœ¬è¿è¡ŒçŠ¶æ€",
                "cardSpec": {
                    "bubbleDetection": true,
                    "frontendName": "è„šæœ¬çŠ¶æ€",
                    "description": "æŸ¥çœ‹è„šæœ¬çš„æ‰§è¡ŒçŠ¶æ€å’Œè¿›åº¦",
                    "tags": [
                        "åŠŸèƒ½å…·ä½“è¯´æ˜",
                        "è„šæœ¬è¿è¡Œé€»è¾‘",
                        "APIæ¥å£"
                    ],
                    "status": "available"
                },
                "state": {
                    "status": "string",
                    "progress": "number",
                    "start_time": "string",
                    "duration": "number"
                },
                "metrics": {
                    "execution_time": "seconds",
                    "progress_percent": "percent"
                },
                "response_format": {
                    "name": "string",
                    "status": "string",
                    "job_id": "string",
                    "start_time": "string",
                    "duration": "number",
                    "progress": "number"
                }
            },
            "stop": {
                "endpoint": "/api/scripts/{name}/stop",
                "method": "POST",
                "handler": "script_manager.stop_script",
                "description": "åœæ­¢è„šæœ¬è¿è¡Œ",
                "cardSpec": {
                    "bubbleDetection": true,
                    "frontendName": "åœæ­¢è„šæœ¬",
                    "description": "åœæ­¢æ­£åœ¨è¿è¡Œçš„è„šæœ¬",
                    "tags": [
                        "åŠŸèƒ½å…·ä½“è¯´æ˜",
                        "è„šæœ¬è¿è¡Œé€»è¾‘",
                        "APIæ¥å£"
                    ],
                    "status": "available",
                    "inputParameters": {
                        "job_id": {
                            "type": "string",
                            "required": false,
                            "description": "ä»»åŠ¡ID"
                        },
                        "force": {
                            "type": "boolean",
                            "required": false,
                            "default": false,
                            "description": "æ˜¯å¦å¼ºåˆ¶åœæ­¢"
                        }
                    },
                    "optimization": "å¼ºåˆ¶åœæ­¢å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œå»ºè®®å…ˆå°è¯•æ­£å¸¸åœæ­¢"
                },
                "actions": {
                    "stop": {
                        "endpoint": "/api/scripts/{name}/stop",
                        "method": "POST"
                    }
                },
                "response_format": {
                    "success": "boolean",
                    "message": "string",
                    "timestamp": "string"
                }
            },
            "health": {
                "endpoint": "/api/scripts/health",
                "method": "GET",
                "handler": "script_manager.health_check",
                "description": "è·å–æ‰€æœ‰è„šæœ¬çš„å¥åº·çŠ¶æ€",
                "cardSpec": {
                    "bubbleDetection": true,
                    "frontendName": "è„šæœ¬å¥åº·æ£€æŸ¥",
                    "description": "æ‰¹é‡æ£€æŸ¥æ‰€æœ‰è„šæœ¬çš„å¯ç”¨æ€§å’Œé…ç½®çŠ¶æ€",
                    "tags": [
                        "åŠŸèƒ½å…·ä½“è¯´æ˜",
                        "è„šæœ¬è¿è¡Œé€»è¾‘",
                        "DAG"
                    ],
                    "status": "available"
                },
                "response_format": {
                    "scripts": "array",
                    "healthy": "number",
                    "unhealthy": "number",
                    "timestamp": "string"
                }
            },
            "logs": {
                "endpoint": "/api/scripts/{name}/logs",
                "method": "GET",
                "handler": "script_manager.get_logs",
                "description": "è·å–è„šæœ¬æ‰§è¡Œæ—¥å¿—",
                "cardSpec": {
                    "bubbleDetection": true,
                    "frontendName": "è„šæœ¬æ—¥å¿—",
                    "description": "æŸ¥çœ‹è„šæœ¬çš„æ‰§è¡Œæ—¥å¿—å’Œè¾“å‡º",
                    "tags": [
                        "åŠŸèƒ½å…·ä½“è¯´æ˜",
                        "è„šæœ¬è¿è¡Œé€»è¾‘",
                        "æ—¥å¿—"
                    ],
                    "status": "available",
                    "inputParameters": {
                        "lines": {
                            "type": "number",
                            "required": false,
                            "default": 100,
                            "description": "æ—¥å¿—è¡Œæ•°"
                        },
                        "level": {
                            "type": "select",
                            "required": false,
                            "options": [
                                "DEBUG",
                                "INFO",
                                "WARNING",
                                "ERROR"
                            ],
                            "default": "INFO",
                            "description": "æ—¥å¿—çº§åˆ«"
                        }
                    }
                },
                "logs": {
                    "endpoint": "/api/scripts/{name}/logs",
                    "method": "GET"
                },
                "response_format": {
                    "logs": "array",
                    "total_lines": "number",
                    "timestamp": "string"
                }
            }
        },
        "logs": {
            "system": {
                "endpoint": "/api/logs",
                "method": "GET",
                "handler": "log_manager.get_system_logs",
                "description": "è·å–ç³»ç»Ÿæ—¥å¿—",
                "parameters": {
                    "lines": {
                        "type": "integer",
                        "default": 100,
                        "description": "è¿”å›çš„æ—¥å¿—è¡Œæ•°"
                    },
                    "level": {
                        "type": "string",
                        "enum": [
                            "DEBUG",
                            "INFO",
                            "WARNING",
                            "ERROR"
                        ],
                        "description": "æ—¥å¿—çº§åˆ«è¿‡æ»¤"
                    },
                    "service": {
                        "type": "string",
                        "description": "æœåŠ¡åç§°è¿‡æ»¤"
                    },
                    "start_time": {
                        "type": "string",
                        "format": "date-time",
                        "description": "å¼€å§‹æ—¶é—´"
                    },
                    "end_time": {
                        "type": "string",
                        "format": "date-time",
                        "description": "ç»“æŸæ—¶é—´"
                    }
                },
                "response_format": {
                    "logs": "array",
                    "total": "number",
                    "filtered": "number",
                    "timestamp": "string"
                }
            },
            "export": {
                "endpoint": "/api/logs/export",
                "method": "GET",
                "handler": "log_manager.export_logs",
                "description": "å¯¼å‡ºæ—¥å¿—",
                "parameters": {
                    "format": {
                        "type": "string",
                        "default": "json",
                        "enum": [
                            "json",
                            "csv",
                            "txt"
                        ],
                        "description": "å¯¼å‡ºæ ¼å¼"
                    },
                    "start_time": {
                        "type": "string",
                        "format": "date-time",
                        "description": "å¼€å§‹æ—¶é—´"
                    },
                    "end_time": {
                        "type": "string",
                        "format": "date-time",
                        "description": "ç»“æŸæ—¶é—´"
                    }
                },
                "response_format": {
                    "file_url": "string",
                    "file_size": "number",
                    "format": "string",
                    "timestamp": "string"
                }
            }
        },
        "config": {
            "get": {
                "endpoint": "/api/config",
                "method": "GET",
                "handler": "config_manager.get_config",
                "description": "è·å–é…ç½®ä¿¡æ¯",
                "parameters": {
                    "section": {
                        "type": "string",
                        "description": "é…ç½®èŠ‚åç§°"
                    }
                },
                "response_format": {
                    "config": "object",
                    "timestamp": "string"
                }
            },
            "update": {
                "endpoint": "/api/config",
                "method": "PUT",
                "handler": "config_manager.update_config",
                "description": "æ›´æ–°é…ç½®",
                "request_body": {
                    "section": "string",
                    "config": "object"
                },
                "response_format": {
                    "success": "boolean",
                    "message": "string",
                    "timestamp": "string"
                }
            },
            "validate": {
                "endpoint": "/api/config/validate",
                "method": "POST",
                "handler": "config_manager.validate_config",
                "description": "éªŒè¯é…ç½®",
                "request_body": {
                    "config": "object"
                },
                "response_format": {
                    "valid": "boolean",
                    "errors": "array",
                    "warnings": "array",
                    "timestamp": "string"
                }
            }
        },
        "plugins": {
            "list": {
                "endpoint": "/api/plugins",
                "method": "GET",
                "handler": "plugin_manager.list_plugins",
                "description": "è·å–æ’ä»¶åˆ—è¡¨",
                "response_format": {
                    "plugins": "array",
                    "total": "number",
                    "timestamp": "string"
                }
            },
            "status": {
                "endpoint": "/api/plugins/{id}/status",
                "method": "GET",
                "handler": "plugin_manager.get_plugin_status",
                "description": "è·å–æ’ä»¶çŠ¶æ€",
                "parameters": {
                    "id": {
                        "type": "string",
                        "required": true,
                        "description": "æ’ä»¶ID"
                    }
                },
                "response_format": {
                    "id": "string",
                    "name": "string",
                    "status": "string",
                    "version": "string",
                    "description": "string",
                    "metrics": "object"
                }
            },
            "control": {
                "endpoint": "/api/plugins/{id}/control",
                "method": "POST",
                "handler": "plugin_manager.control_plugin",
                "description": "æ§åˆ¶æ’ä»¶",
                "parameters": {
                    "id": {
                        "type": "string",
                        "required": true,
                        "description": "æ’ä»¶ID"
                    }
                },
                "request_body": {
                    "action": "string",
                    "parameters": "object"
                },
                "response_format": {
                    "success": "boolean",
                    "message": "string",
                    "timestamp": "string"
                }
            }
        }
    },
    "middleware": {
        "auth": {
            "enabled": false,
            "type": "bearer",
            "token_header": "Authorization"
        },
        "cors": {
            "enabled": true,
            "origins": [
                "*"
            ],
            "methods": [
                "GET",
                "POST",
                "PUT",
                "DELETE",
                "OPTIONS"
            ],
            "headers": [
                "*"
            ]
        },
        "rate_limit": {
            "enabled": true,
            "requests_per_minute": 60,
            "burst_limit": 10
        },
        "logging": {
            "enabled": true,
            "level": "INFO",
            "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
        }
    },
    "error_responses": {
        "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
            "schema": {
                "error": "string",
                "message": "string",
                "timestamp": "string"
            }
        },
        "401": {
            "description": "æœªæˆæƒè®¿é—®",
            "schema": {
                "error": "string",
                "message": "string",
                "timestamp": "string"
            }
        },
        "403": {
            "description": "ç¦æ­¢è®¿é—®",
            "schema": {
                "error": "string",
                "message": "string",
                "timestamp": "string"
            }
        },
        "404": {
            "description": "èµ„æºä¸å­˜åœ¨",
            "schema": {
                "error": "string",
                "message": "string",
                "timestamp": "string"
            }
        },
        "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
            "schema": {
                "error": "string",
                "message": "string",
                "timestamp": "string"
            }
        }
    }
}